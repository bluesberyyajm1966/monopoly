<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Monopoly Board Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-color@2.19.3/dist/react-color.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
      }
      #root {
        height: 100%;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;
      const { SketchPicker } = reactColor;

      const defaultTiles = Array.from({ length: 40 }, (_, i) => ({
        name: \`Tile \${i + 1}\`,
        color: "#ffffff",
        type: "property",
        price: 0,
      }));

      function MonopolyBoardGenerator() {
        const [tiles, setTiles] = useState(defaultTiles);
        const [selectedTileIndex, setSelectedTileIndex] = useState(0);

        const updateTile = (field, value) => {
          const updated = [...tiles];
          updated[selectedTileIndex] = {
            ...updated[selectedTileIndex],
            [field]: value,
          };
          setTiles(updated);
        };

        const getGridPosition = (index) => {
          if (index < 10) {
            return { gridColumn: 11 - index, gridRow: 11 };
          } else if (index < 20) {
            return { gridColumn: 1, gridRow: 20 - index };
          } else if (index < 30) {
            return { gridColumn: index - 19, gridRow: 1 };
          } else {
            return { gridColumn: 11, gridRow: index - 29 };
          }
        };

        return (
          <div className="p-4 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div className="bg-white shadow p-4 rounded">
              <h2 className="text-lg font-bold mb-4">Edit Tile</h2>
              <div className="space-y-3">
                <input
                  type="text"
                  value={tiles[selectedTileIndex].name}
                  onChange={(e) => updateTile("name", e.target.value)}
                  className="w-full border p-2 rounded"
                />
                <SketchPicker
                  color={tiles[selectedTileIndex].color}
                  onChangeComplete={(color) => updateTile("color", color.hex)}
                />
                <input
                  type="text"
                  value={tiles[selectedTileIndex].type}
                  onChange={(e) => updateTile("type", e.target.value)}
                  className="w-full border p-2 rounded"
                />
                <input
                  type="number"
                  value={tiles[selectedTileIndex].price}
                  onChange={(e) => updateTile("price", parseInt(e.target.value) || 0)}
                  className="w-full border p-2 rounded"
                />
                <button
                  onClick={() => setSelectedTileIndex((selectedTileIndex + 1) % tiles.length)}
                  className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
                >
                  Next Tile
                </button>
              </div>
            </div>

            <div className="grid grid-cols-11 grid-rows-11 gap-1 w-full aspect-square">
              {tiles.map((tile, index) => {
                const pos = getGridPosition(index);
                return (
                  <div
                    key={index}
                    onClick={() => setSelectedTileIndex(index)}
                    style={{
                      backgroundColor: tile.color,
                      gridColumnStart: pos.gridColumn,
                      gridRowStart: pos.gridRow,
                    }}
                    className={`border text-[10px] p-1 text-center flex items-center justify-center cursor-pointer ${
                      selectedTileIndex === index ? "ring-2 ring-blue-500" : ""
                    }`}
                  >
                    {tile.name}
                  </div>
                );
              })}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<MonopolyBoardGenerator />);
    </script>
  </body>
</html>
